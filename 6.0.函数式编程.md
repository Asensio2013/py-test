### 函数式编程
* 函数式编程（请注意多了一个“式”字）—— Functional Programming，虽然也可以归结到面向过程的程序设计，但其思想更接近数学计算

* 函数式编程就是一种抽象程度很高的编程范式，纯粹的函数式编程语言编写的函数没有变量，因此，任意一个函数，只要输入是确定的，输出就是确定的，这种纯函数我们称之为没有副作用。而允许使用变量的程序设计语言，由于函数内部的变量状态不确定，同样的输入，可能得到不同的输出，因此，这种函数是有副作用的。

* 函数式编程的一个特点就是，允许把函数本身作为参数传入另一个函数，还允许返回一个函数！
    * 函数可以是参数, 函数可以是返回值

* Python对函数式编程提供部分支持。由于Python允许使用变量，因此, *Python不是纯函数式编程语言*



### 高阶函数
* Higher-order function

* 变量可以指向函数
    * `f = abs`, 把内置的 abs 函数赋值给变量 f

    * `f(-1)` 通过变量调用函数

* 函数名也是变量
    * `abs = 10` 这样赋值后 `abs()` 就无法再当作函数调用了

* 传入函数 -- 高阶函数
    * 既然变量可以指向函数，函数的参数能接收变量，那么一个函数就可以接收另一个函数作为参数，这种函数就称之为 **高阶函数**。

    * eg:
    ```
    def add(x, y, f):
        return f(x) + f(y)
    ```

* 把函数作为参数传入，这样的函数称为高阶函数, *函数式编程* 就是指这种高度抽象的编程范式



### map/reduce
* Python内建了 `map()` 和 `reduce()` 函数

* `map()`函数接收两个参数
    * 一个是函数，一个是 `Iterable`
    * `map` 将传入的函数依次作用到序列的每个元素，并把结果作为新的 `Iterator` 返回

* `reduce()`:
    * `reduce` 把一个函数作用在一个序列 `[x1, x2, x3, ...]` 上，
    * 这个函数必须接收两个参数, `reduce` **把结果继续和序列的下一个元素做累积计算**

* lambda 函数可以简化函数的声明 (用来声明匿名函数)



### filter
* Python 内建的 `filter()` 函数用于过滤序列

* `filter()` 函数
    * 也接收一个函数和一个序列
    * filter() 把传入的函数依次作用于每个元素，然后根据返回值是 `True` 还是 `False` 决定保留还是丢弃该元素


* 用 filter 求素数
    * 计算素数的一个方法是 **埃氏筛法**

    * 它的算法理解起来非常简单：
    ```
    首先，列出从2开始的所有自然数，构造一个序列：

    2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...

    取序列的第一个数2，它一定是素数，然后用2把序列的2的倍数筛掉：

    3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...

    取新序列的第一个数3，它一定是素数，然后用3把序列的3的倍数筛掉：

    5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...

    取新序列的第一个数5，然后用5把序列的5的倍数筛掉：

    7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...

    不断筛下去，就可以得到所有的素数。
    ```
